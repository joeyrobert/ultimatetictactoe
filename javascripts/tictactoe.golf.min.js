!function(){function n(){C=[[],[],[],[],[],[],[],[],[]],E=[],N=!0,H=0,T=P,I=!0}function o(n){j=t(n.target)-1,i(),I=!1,j||B()}function t(n){return[].indexOf.call(n.parentNode.children,n)}function e(n,o,t){n.classList.add(o,t)}function r(n,o){n.classList.remove(o)}function i(){e(D[1],"m"),setTimeout(function(){D[1].style.display="none"},250)}function a(n){var o,t="";for(o=1;o<n.length;o++)t+=l(n[o]);return t}function c(n,o){return Array(o+1).join(n)}function l(n){var o=a(n);return"string"==typeof n?n:n[0]>0?c(o,n[0]):'<div class="'+n[0]+'">'+o+"</div>"}function u(){b.innerHTML=l(["b true",[9,["c l",[9,["d"]],["e"]]],["a",["f"],["g","Play again?"]],["h",["new","New Game"],["k","0 ks"],["k","1 k"],["k","2 ks"]]])+d()}function f(){D=[b.childNodes[0],W(".h")[0],W(".a")[0],W(".c"),W(".d"),W(".g"),W(".k")]}function d(){return"<style>.b{width:444px;height:444px;margin-left:auto;margin-right:auto;transform-origin:50% 0;border-width:3px;border-style:solid}.b.true{border-color:#8AFF7A}.b.false{border-color:#FF7A7A}.d{width:47px;height:47px;float:left;font-size:47px;text-align:center;border:1px solid #CCC;line-height:43px;z-index:10}.d.true{background-color:#8AFF7A}.d.false{background-color:#FF7A7A}.c.l:hover .d.true:hover{background-color:#BEFFB5}.c.l:hover .d.false:hover{background-color:#FFBFBF}.c.l{background-color:#91EDFF}.c.l:hover{background-color:#C7F4FC}.c.l:hover .d:hover{background-color:#E8FBFF}.c.won.false.l .e,.c.won.true.l .e{display:none}.c{width:148px;height:148px;float:left}.e{width:147px;height:147px;text-align:center;position:absolute;font-size:200px;line-height:128px;display:none;opacity:.8;z-index:1;overflow:hidden;transition:opacity .25s ease-in-out}.c.won.false:hover .e,.c.won.true:hover .e{opacity:0}.c.won.false .e,.c.won.true .e{display:block}.c.won.true .e{background-color:#8aff7a}.c.won.false .e{background-color:#ff7a7a}.h,.a{position:absolute;border-radius:10px;box-shadow:0 0 13px #000;background-color:#fff;z-index:20;text-align:center;transition:opacity .25s ease-in-out}.a{width:200px;height:44px;display:none;line-height:44px;margin-left:122px;margin-top:200px}.a.true{background-color:#BEFFB5}.a.false{background-color:#FFBFBF}.h{width:200px;height:170px;margin-left:122px;margin-top:137px}.btn{width:165px;height:25px}</style>"}function s(n,o){for(var t=0;t<n.length;t++)o(n[t],t)}function h(n,o){s(n,function(n){n.addEventListener("click",o,!0)})}function p(){h(D[4],x),h(D[5],M),h(D[6],o)}function g(){D[0].style="transform: scale("+Math.min(b.offsetWidth/450,b.offsetHeight/450)}function x(n){var o=t(n.target.parentNode),e=t(n.target);b(o,e)}function b(n,o){return!(j>=0)||I||C[n][o]||n!=T&&T!=P||(S=D[4][9*n+o],C[n][o]=N,e(S,N),S.innerHTML=y(),H+=1,k(N,n),I||(T=o,F(C[o])&&(T=P),v(),N=!N,e(D[0],N)),1!=j||N)?void 0:L()}function v(){for(var n=0;D[3][n];n++)r(D[3][n],"l");e(D[3][T],"l")}function F(n){for(var o=0;9>o;o++)if(!n[o])return!1;return!0}function w(){I=!0,m(!0,N),q&&clearInterval(q)}function y(){return(N?"&#215":"&#9675")+";"}function k(n,o){O=A(C[o],n);for(var t=0;t<O.length;t++)for(var r=0;r<O[t].length;r++)e(D[4][9*o+O[t][r]],"won",n);O.length>0&&!E[o]&&(E[o]=n,e(D[3][o],"won",n),D[3][o].innerHTML+=y()),G=A(E,n),G.length>0?w(!1,n):H>=81&&w(!0)}function m(n,o){n?y()+" won.":"A tie!",D[2].className=o,D[2].style="opacity: 0; display: block",D[2].style="opacity: 1; display: block"}function A(n,o){var t=[];return s(J,function(e){n[e[0]]==o&&n[e[1]]==o&&n[e[2]]==o&&t.push(e)}),t}function B(){q=setInterval(function(){L()},100)}function z(){return Math.floor(9*Math.random())}function L(){T==P&&(T=z());do var n=z();while(C[T][n]!=P);b(T,n)}function M(){n(),u(),f(),g(),p()}var C,E,N,H,T,I,j,q,D,G,O,P=void 0,S=document,W=S.querySelectorAll.bind(S),J=[[0,4,8],[2,4,6],[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8]];window.onresize=g,M()}();