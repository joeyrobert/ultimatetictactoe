!function(){function n(){k=[],p=[];for(var n=0;9>n;n++)k[n]=[];w=!0,M=0,q=G,H=!0,S=G}function e(){C.className="m",I(function(){C.style.display="none"},250)}function t(n){var e,c="";for(e=1;e<n.length;e++)c+=r(n[e]);return c}function r(n){var e,c="";if("string"==typeof n)c=n;else if(n[0]>0)for(e=0;e<n[0];e++)c+=t(n);else c='<div class="'+n[0]+'">'+t(n)+"</div>";return c}function a(){l.innerHTML=r(["b",[9,["c",[9,["d"]],["e"]]],["a",["f"],["g","Play again?"]],["h",["new","New Game"],["k0","0 ks"],["k1","1 k"],["k2","2 ks"]]])}function o(){A=l.childNodes[0],C=P.querySelector(".h"),L=P.querySelector(".a"),cn=P.querySelectorAll(".c"),T=P.querySelectorAll(".d")}function s(){A.style="transform: scale("+Math.min(l.offsetWidth/450,l.offsetHeight/450)}function l(){return!S||H||k[i][j]||i!==q&&q||(P=T[9*i+j],k[i][j]=w,P.className="d "+w,P.innerHTML=fCharacter(),M+=1,d(w,i),H||(q=j,u(k[j])&&(q=G),f(),A.className=w,w=!w),1!==S||w)?void 0:g()}function f(){for(var n=0;cn[n];n++)cn[n].className="c";cn[q].className+=q?" l":""}function u(n){for(var e=0;9>e;e++)if(!n[e])return!1;return!0}function h(){cn.className="c",H=!0,m(!0,w),b&&clearInterval(b)}function d(n,e){E=v(k[e],n);for(var t=0;t<E.length;t++)for(var r=0;r<E[t].length;r++)T[9*e+r].className="d won";E.length>0&&!p[e]&&(p[e]=n,c[e].className="c won "+n,c[e].innerHTML=fCharacter()),z=v(p,n),M>=81&&0===z.length?h(!0):z.length>0&&h(!1,n)}function m(n,e){n?fCharacter()+"; won.":"A tie!",L.className=e,L.css({opacity:0,display:"block"}),L.css({opacity:1}),eElement.css({opacity:1})}function v(n,e){var c,t,r=[];for(c=0;c<W.length;c++)t=W[c],n[t[0]]==e&&n[t[1]]==e&&n[t[2]]==e&&r.push(t);return r}function y(n){b=setInterval(function(){g(),n&&$(".g:visible").click()},100)}function g(){Math.floor(3*Math.random())}function N(){n(),a(),o(),f(),s()}var k,p,w,M,q,H,S,b,A,C,L,T,I,z,E,G=void 0,P=document,W=[[0,4,8],[2,4,6],[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8]];window.onresize=s,N()}();