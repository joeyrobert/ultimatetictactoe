!function(){function n(n){return[].indexOf.call(n.parentNode.children,n)}function t(n,e,i){e!=E&&(n.classList.add(e),t(n,i))}function e(n,t){n.classList.remove(t)}function i(n){e(n,!p),t(n,p)}function o(n){var t,e="";for(t=1;t<n.length;t++)e+=o(n[t]);return"string"==typeof n?n:n[0]>0?Array(n[0]+1).join(e):'<div class="'+n[0]+'">'+e+"</div>"}function r(n,t){for(var e=0;e<n.length;e++)t(n[e],e)}function f(n,t){r(n,function(n){n.addEventListener("click",t,!0)})}function c(n,o){return M||y[n][o]||n!=L&&L!=E||(G=I[9*n+o],y[n][o]=p,i(G),G.innerHTML=s(),w+=1,a(n),L=u(y[o])?E:o,r(z,function(n,i){e(n,"l"),L!=E&&L!=i||u(y[i])||t(n,"l")}),p=!p,i(N),1!=H||p)?void 0:v()}function u(n){for(var t=0;9>t;t++)if(n[t]==E)return!1;return!0}function l(n){M=!0,x.innerHTML=(n!=E?s()+" won.":"A tie!")+" Play again?",t(x,"m",p),x.style.display="block",e(x,"m"),S(T)}function s(){return p?"&#215;":"&#9675;"}function a(n){var e,i,o,r=d(y[n]);for(e=0;e<r.length;e++)for(i=0;i<r[e].length;i++)t(I[9*n+r[e][i]],"won",p);r.length>0&&k[n]==E&&(k[n]=p,t(z[n],"won",p),q[n].innerHTML+=s()),o=d(k),o.length>0?l(p):w>80&&l()}function d(n){return B.reduce(function(t,e){return n[e[0]]==p&&n[e[1]]==p&&n[e[2]]==p&&t.push(e),t},[])}function h(n){return Math.floor(Math.random()*n)}function v(){function n(){for(t=0;9>t;t++)y[i][t]==E&&o.push([i,t])}var t,e,i=L,o=[];if(L==E)for(i=0;9>i;i++)n();else n();e=o[h(o.length)],c(e[0],e[1])}function g(){r(I,function(n){h(2)?t(n,"l"):e(n,"l")})}function m(){y=[[],[],[],[],[],[],[],[],[]],k=[],p=!0,w=0,L=E,M=!0,c.innerHTML='<link rel="stylesheet" type="text/css" href="stylesheets/b.minimal.golf.css">'+o(["b true",[9,["c l",[9,["d"]],["e"]]],["a"],["h",["new","New Game"],["k","0 ks"],["k","1 k"],["k","2 ks"]]]),W(onresize,50),N=c.childNodes[1],A=O(".h")[0],x=O(".a")[0],z=O(".c"),I=O(".d"),j=O(".k"),q=O(".e"),f(I,function(t){var e=n(t.target.parentNode),i=n(t.target);c(e,i)}),f([x],m),f(j,function(i){H=n(i.target)-1,t(A,"m"),W(function(){A.style.display="none"},250),S(b),r(I,function(n){e(n,"l")}),M=!1,H||(T=P(function(){v()},100))}),g(),b=P(g,100)}var y,k,p,w,L,M,H,T,b,N,A,x,z,I,j,q,E=void 0,G=document,O=G.querySelectorAll.bind(G),P=setInterval,S=clearInterval,W=setTimeout,B=[[0,4,8],[2,4,6],[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8]];window.onresize=function(){N.style.transform="scale("+Math.min(c.offsetWidth/450,c.offsetHeight/450)},m()}();