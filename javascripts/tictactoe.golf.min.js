!function(){function n(n){return[].indexOf.call(n.parentNode.children,n)}function t(n,e,i){e!=q&&(n.classList.add(e),t(n,i))}function e(n,t){n.classList.remove(t)}function i(n){e(n,!p),t(n,p)}function o(n){var t,e="";for(t=1;t<n.length;t++)e+=o(n[t]);return"string"==typeof n?n:n[0]>0?Array(n[0]+1).join(e):'<div class="'+n[0]+'">'+e+"</div>"}function r(n,t){for(var e=0;e<n.length;e++)t(n[e],e)}function f(n,t){r(n,function(n){n.addEventListener("click",t,!0)})}function c(n,o){return L||y[n][o]||n!=M&&M!=q||(W=z[9*n+o],y[n][o]=p,i(W),W.innerHTML=l(),w+=1,s(n),M=u(y[o])?q:o,r(x,function(n,i){e(n,"l"),M!=q&&M!=i||u(y[i])||t(n,"l")}),p=!p,i(N),1!=b||p)?void 0:v()}function u(n){for(var t=0;9>t;t++)if(n[t]==q)return!1;return!0}function a(n){L=!0,A.innerHTML=(n!=q?l()+" won.":"A tie!")+" Play again?",t(A,"m",p),A.style.display="block",e(A,"m"),j(T)}function l(){return p?"&#215;":"&#9675;"}function s(n){var e,i,o,r=d(y[n]);for(e=0;e<r.length;e++)for(i=0;i<r[e].length;i++)t(z[9*n+r[e][i]],"won",p);r.length>0&&k[n]==q&&(k[n]=p,t(x[n],"won",p),G[n].innerHTML+=l()),o=d(k),o.length>0?a(p):w>80&&a()}function d(n){return O.reduce(function(t,e){return n[e[0]]==p&&n[e[1]]==p&&n[e[2]]==p&&t.push(e),t},[])}function h(n){return Math.floor(Math.random()*n)}function v(){function n(){for(t=0;9>t;t++)y[i][t]==q&&o.push([i,t])}var t,e,i=M,o=[];if(M==q)for(i=0;9>i;i++)n();else n();e=o[h(o.length)],c(e[0],e[1])}function g(){r(z,function(n){h(2)?t(n,"l"):e(n,"l")})}function m(){y=[[],[],[],[],[],[],[],[],[]],k=[],p=!0,w=0,M=q,L=!0,c.innerHTML='<link rel="stylesheet" type="text/css" href="stylesheets/b.minimal.golf.css">'+o(["b true",[9,["c l",[9,["d"]],["e"]]],["a"],["h",["new","New Game"],["k","0 ks"],["k","1 k"],["k","2 ks"]]]),N=c.childNodes[1],I=E(".h")[0],A=E(".a")[0],x=E(".c"),z=E(".d"),S=E(".k"),G=E(".e"),f(z,function(t){var e=n(t.target.parentNode),i=n(t.target);c(e,i)}),f([A],m),f(S,function(i){b=n(i.target)-1,t(I,"m"),setTimeout(function(){I.style.display="none"},250),j(H),r(z,function(n){e(n,"l")}),L=!1,b||(T=P(function(){v()},100))}),g(),H=P(g,100)}var y,k,p,w,M,L,b,T,H,N,I,A,x,z,S,G,q=void 0,W=document,E=W.querySelectorAll.bind(W),P=setInterval,j=clearInterval,O=[[0,4,8],[2,4,6],[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8]];window.onresize=function(){N.style.transform="scale("+Math.min(c.offsetWidth/450,c.offsetHeight/450)},setTimeout(onresize,50),m()}();