!function(){function n(){for(x=[],b=[],i=0;i<9;i++)for(x[i]=[],b[i]=void 0,j=0;j<9;j++)x[i][j]=void 0;I="x",M=0,H=void 0,T=!0,z=void 0}function t(){window.onresize=c,$(".d").click(d),$("#g").click(w),$("#zeroplayer").click(a),$("#oneplayer").click(o),$("#twoplayer").click(e)}function a(){z=0,r(),T=!1,g()}function o(){z=1,r(),T=!1}function e(){z=2,r(),T=!1}function r(){return $(".mymodal.h").css({opacity:0}),setTimeout(function(){$(".mymodal.h").hide()},250)}function s(n){var t,a,o,i=["div","span","h3","a"],e=[],r="";if("string"==typeof n)return n;if(n[0].f){for(t=0;t<n[0].f;t++)for(a=1;a<n.length;a++)e.push(s(n[a]));return e.join("")}for(t in i)if(o=i[t],n[0][o[0]]){for(e[0]="<"+o+' class="'+n[0][o[0]]+'">',a=1;a<n.length;a++)e.push(s(n[a]));e.push("</"+o+">"),r=e.join("")}return r}function l(){u.innerHTML=s([{d:"b"},[{f:9},[{d:"c"},[{f:9},[{d:"d"}]],[{d:"e"}]]],[{d:"a"},[{s:"turn"}],[{a:"g"},"Play again?"]],[{d:"h"},[{h:"turn"},"New Game"],[{a:"i"},"0 players"],[{a:"j"},"1 player"],[{a:"k"},"2 players"]]])}function c(){$("#b").style="transform: scale("+Math.min(u.offsetWidth/450,u.offsetHeight/450)}function f(){$("#b").removeClass(I),I="x"===I?"o":"x",$("#b").addClass(I)}function d(n){var t,a,o;t=$(n.currentTarget),a=t.data("i"),o=t.data("j"),u(a,o)}function u(n,t){var a;return!z||T||x[n][t]||n!==H&&H||(a=$(".d[data-i="+n+"][data-j="+t+"]"),x[n][t]=I,a.addClass(I),a.html("x"===I?"&#215;":"&#9675;"),M+=1,p(I,n),T||(H=t,v(x[t])&&(H=void 0),h(),f()),1!==z||"o"!==I)?void 0:C()}function h(){H?($(".c").removeClass("l"),$(".c."+letters[H]).addClass("l")):$(".c").addClass("l")}function v(n){for(i=0;i<9;i++)if(!n[i])return!1;return!0}function p(n,t){var a,o,i,e,r;for(r=y(x[t],n),k=0;k<r.length;k++){var e=r[k];for(o=0;o<e.length;o++)$(".c."+letters[t]+" .d."+letters[o]).addClass("won")}r.length>0&&!b[t]&&(b[t]=n,a=$(".c."+letters[t]),a.addClass("won").addClass(n),a.find(".e").html("x"===n?"&#215;":"&#9675;")),i=y(b,n),M>=81&&0===i.length?($(".c").removeClass("l"),T=!0,m(),A&&clearInterval(A)):i.length>0&&($(".c").removeClass("l"),T=!0,m(n),A&&clearInterval(A))}function m(n){$(".a .turn").html("x"===n?"&#215; won.":"o"===n?"&#9675; won.":"A tie!"),$(".a").removeClass("x"),$(".a").removeClass("o"),n&&$(".a").addClass(n),$(".a").css({opacity:0,display:"block"}),$(".a").css({opacity:1}),$(".e").css({opacity:1})}function y(n,t){var a,o,i;for(i=[],n[0]===t&&n[4]===t&&n[8]===t&&i.push([0,4,8]),n[2]===t&&n[4]===t&&n[6]===t&&i.push([0,2,4]),o=0;3>o;o++)n[3*o]===t&&n[3*o+1]===t&&n[3*o+2]===t&&i.push([3*o,3*o+1,3*o+2]);for(a=0;3>a;a++)n[a]===t&&n[a+3]===t&&n[a+6]===t&&i.push([a,a+3,a+6]);return i}function g(n){A=setInterval(function(){C(),n&&$("#g:visible").click()},100)}function C(){var n,t;n=$(".c.l .d:not(.x):not(.o)"),t=Math.floor(Math.random()*n.length),n.eq(t).click()}function w(){n(),l(),h(),c(),t()}var x,b,I,M,H,T,z,A;letters=["A","B","C","D","E","F","G","H","I"],w()}();