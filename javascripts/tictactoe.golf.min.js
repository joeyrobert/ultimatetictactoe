!function(){function n(){j=[[],[],[],[],[],[],[],[],[]],G=[],q=!0,z=0,E=R,O=!0}function t(n){P=e(n.target)-1,c(),O=!1,P||H()}function e(n){return[].indexOf.call(n.parentNode.children,n)}function o(n,t,e){t!=R&&(n.classList.add(t),o(n,e))}function r(n,t){n.classList.remove(t)}function i(n){r(n,!q),o(n,q)}function c(){o(C,"m"),setTimeout(function(){C.style.display="none"},250)}function u(n){var t,e="";for(t=1;t<n.length;t++)e+=a(n[t]);return e}function f(n,t){return Array(t+1).join(n)}function a(n){var t=u(n);return"string"==typeof n?n:n[0]>0?f(t,n[0]):'<div class="'+n[0]+'">'+t+"</div>"}function l(){k.innerHTML=d()+a(["b true",[9,["c l",[9,["d"]],["e"]]],["a"],["h",["new","New Game"],["k","0 ks"],["k","1 k"],["k","2 ks"]]])}function s(){B=k.childNodes[1],C=V(".h")[0],D=V(".a")[0],F=V(".c"),J=V(".d"),K=V(".k"),Q=V(".e")}function d(){return'<link rel="stylesheet" type="text/css" href="stylesheets/b.minimal.golf.css">'}function h(n,t){for(var e=0;e<n.length;e++)t(n[e],e)}function v(n,t){h(n,function(n){n.addEventListener("click",t,!0)})}function g(){v(J,m),v([D],I),v(K,t)}function y(){B.style.transform="scale("+Math.min(k.offsetWidth/450,k.offsetHeight/450)}function m(n){var t=e(n.target.parentNode),o=e(n.target);k(t,o)}function k(n,t){return O||j[n][t]||n!=E&&E!=R||(U=J[9*n+t],j[n][t]=q,i(U),U.innerHTML=L(),z+=1,N(q,n),E=w(j[t])?R:t,p(),q=!q,i(B),1!=P||q)?void 0:x()}function p(){h(F,function(n,t){r(n,"l"),E!=R&&E!=t||w(j[E])||o(n,"l")})}function w(n){for(var t=0;9>t;t++)if(n[t]==R)return!1;return!0}function M(){O=!0,T(!0,q),S&&clearInterval(S)}function L(){return q?"&#215;":"&#9675;"}function N(n,t){for(var e=b(j[t],n),r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)o(J[9*t+e[r][i]],"won",n);e.length>0&&G[t]==R&&(G[t]=n,o(F[t],"won",n),Q[t].innerHTML+=L()),W=b(G,n),W.length>0?M(!1,n):z>=81&&M(!0)}function T(n,t){D.innerHTML=(n?L()+" won.":"A tie!")+" Play again?",o(D,"m",t),D.style.display="block",r(D,"m")}function b(n,t){var e=[];return h(X,function(o){n[o[0]]==t&&n[o[1]]==t&&n[o[2]]==t&&e.push(o)}),e}function H(){S=setInterval(function(){x()},100)}function A(n){return Math.floor(Math.random()*n)}function x(){function n(){for(t=0;9>t;t++)j[o][t]==R&&r.push([o,t])}var t,e,o=E,r=[];if(E==R)for(o=0;9>o;o++)n();else n();e=r[A(r.length)],k(e[0],e[1])}function I(){n(),l(),s(),y(),g()}var j,G,q,z,E,O,P,S,W,B,C,D,F,J,K,Q,R=void 0,U=document,V=U.querySelectorAll.bind(U),X=[[0,4,8],[2,4,6],[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8]];window.onresize=y,I()}();